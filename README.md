**核心功能概要:**

*   **自动阶段 (`autonomous` 函数):**
    *   此部分代码用于比赛开始后15秒的自动运行阶段。
    *   程序预设了两种自动策略，分别对应场地左侧和右侧的两种不同情况。
    *   通过一个名为 `auton_strategy` 的变量来选择执行哪一套自动程序。这个变量可以在手动阶段通过手柄组合键进行切换。

*   **手动控制阶段 (`drivercontrol` 函数):**
    *   这是比赛中由选手手动遥控机器人的主要部分。
    *   **两种驾驶模式:**
        *   分离式街机模式：左摇杆控制前进后退，右摇杆控制转向。
        *   全功能街机模式：左摇杆同时控制前进、后退和部分转向，右摇杆也可以控制转向，两者转向输入会叠加。
    *   **多档位速度控制:**
        *   预设了四个速度档位（10%, 40%, 70%, 100%），可以通过手柄的“上”和“下”方向键进行切换，以适应不同场景下的速度需求。
    *   **摇杆曲线:**
        *   应用了三次函数作为摇杆曲线，使得机器人的转向控制更加平滑和精准，尤其是在进行微调时。
    *   **行驶方向反转:**
        *   可以通过Y键一键切换机器人的前进方向，方便在不同朝向时进行操作。
    *   **丰富的按键功能:**
        *   **进球与吐球:** R1和R2键分别控制进球机构的正转和反转，用于吸球和吐球。
        *   **得分动作:** L1和L2键分别对应高分和中分得分的组合动作。
        *   **气缸控制:** A、B、X键用于控制机器人上多个气缸的伸出和缩回。
    *   **手柄屏幕显示:**
        *   充分利用了V5手柄上的屏幕，可以实时显示当前的控制模式、行驶方向和速度档位，为操作手提供清晰的状态反馈。
    *   **系统与调试功能:**
        *   提供了多种组合键功能，如校准惯性传感器（IMU）、选择自动赛策略以及直接在手动阶段测试自动程序等。

*   **主函数 (`main` 函数):**
    *   作为程序的入口，它负责注册自动和手动控制函数。
    *   通过`Competition.autonomous(autonomous)`和`Competition.drivercontrol(drivercontrol)`将前面定义的两个函数分别注册到比赛的对应阶段。
    *   创建了一个独立的线程来运行 `defineController` 函数，这通常是为了处理一些需要并行运行的任务，例如持续更新手柄屏幕或处理传感器数据，以避免阻塞主控制循环。